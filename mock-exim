#!/bin/bash
# Mock Exim binary for testing

case "$1" in
    "-bp")
        # Mock queue listing with sample messages
        echo "   2h  1024 1b2c3d-000001-AB <sender@example.com>"
        echo "         recipient@example.com"
        echo "   5m  2048 4e5f6g-000002-CD <user@test.com>"
        echo "         admin@example.org"
        echo "         user2@test.com"
        exit 0
        ;;
    "-Mvh")
        # Mock message headers
        echo "From: sender@example.com"
        echo "To: recipient@example.com"
        echo "Subject: Test message"
        echo "Date: $(date)"
        exit 0
        ;;
    "-Mvb")
        # Mock message body
        echo "This is a test message body."
        exit 0
        ;;
    "-Mvl")
        # Mock message log (may not exist)
        exit 1
        ;;
    "-M")
        # Mock deliver now
        echo "Message $2 delivery initiated"
        exit 0
        ;;
    "-Mf")
        # Mock freeze message
        echo "Message $2 frozen"
        exit 0
        ;;
    "-Mt")
        # Mock thaw message
        echo "Message $2 thawed"
        exit 0
        ;;
    "-Mrm")
        # Mock delete message
        echo "Message $2 removed"
        exit 0
        ;;
    *)
        # Default version output
        echo "Mock Exim 4.96"
        exit 0
        ;;
esac